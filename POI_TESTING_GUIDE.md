# POI æ‰©å±•ä¿¡æ¯æµ‹è¯•è¯´æ˜

## ğŸ“‹ å…³äºç©ºå¯¹è±¡çš„è¯´æ˜

æ‚¨çœ‹åˆ° `business: {}` å’Œ `poiExtension: {}` æ˜¯**å®Œå…¨æ­£å¸¸çš„ç°è±¡**ï¼ŒåŸå› å¦‚ä¸‹ï¼š

### 1. é«˜å¾·åœ°å›¾æ•°æ®è´¨é‡å‚å·®ä¸é½

ä¸æ˜¯æ‰€æœ‰ POI éƒ½æœ‰å®Œæ•´çš„æ‰©å±•ä¿¡æ¯ã€‚æ•°æ®ä¸°å¯Œåº¦å–å†³äºï¼š
- **POI ç±»å‹**: å¤§å‹å•†åœº > è¿é”å“ç‰Œ > å°å‹é—¨åº—
- **POI çŸ¥ååº¦**: çƒ­é—¨åœ°ç‚¹æ•°æ®æ›´å®Œæ•´
- **æ•°æ®æ›´æ–°é¢‘ç‡**: æœ€è¿‘æ›´æ–°çš„æ•°æ®æ›´å‡†ç¡®
- **å•†å®¶æ˜¯å¦ç»´æŠ¤**: æœ‰äº›å•†å®¶æ²¡æœ‰åœ¨é«˜å¾·åœ°å›¾åå°ç»´æŠ¤ä¿¡æ¯

### 2. å®é™…æµ‹è¯•ç»“æœåˆ†æ

æ‚¨æœç´¢çš„æ˜¯ "æ˜Ÿå·´å…‹"ï¼Œè¿”å›çš„æ˜¯ï¼š
```
uid: B0L1N7X27W
name: æ˜Ÿå·´å…‹
address: é¾™å¯è·¯158å·1å±‚103å®¤
```

è¿™æ˜¯ä¸€ä¸ª**æ™®é€šé—¨åº—**ï¼Œå¾ˆå¯èƒ½ï¼š
- âŒ `getBusiness()` è¿”å› nullï¼ˆæ—  Business å¯¹è±¡ï¼‰
- âŒ æˆ–è€… Business å¯¹è±¡çš„æ‰€æœ‰å­—æ®µéƒ½æ˜¯ null/ç©ºå­—ç¬¦ä¸²

### 3. æ¨èæµ‹è¯•çš„ POI ç±»å‹

ä¸ºäº†çœ‹åˆ°ä¸°å¯Œçš„æ‰©å±•ä¿¡æ¯ï¼Œå»ºè®®æœç´¢ï¼š

**âœ… å¤§å‹å•†åœº/è´­ç‰©ä¸­å¿ƒ**
```
ä¸Šæµ·ç¯çƒæ¸¯ã€ä¸Šæµ·æ–°å¤©åœ°ã€ä¸Šæµ·å›½é‡‘ä¸­å¿ƒ
```

**âœ… çŸ¥åæ™¯ç‚¹**
```
ä¸œæ–¹æ˜ç ã€å¤–æ»©ã€è±«å›­
```

**âœ… é«˜æ˜Ÿçº§é…’åº—**
```
ä¸Šæµ·å’Œå¹³é¥­åº—ã€ä¸Šæµ·æµ¦ä¸œé¦™æ ¼é‡Œæ‹‰å¤§é…’åº—
```

**âœ… å¤§å‹è¿é”é¤å…**
```
æµ·åº•æã€è¥¿è´èœé¢æ‘
```

---

## ğŸ” ç°åœ¨çš„ä¼˜åŒ–

### 1. æ”¹è¿›æœç´¢å…³é”®è¯
```typescript
keyword: 'ä¸Šæµ·ç¯çƒæ¸¯'  // å¤§å‹å•†åœºï¼Œæ•°æ®æ›´å®Œæ•´
pageSize: 10           // å¢åŠ æ•°é‡ï¼Œæ‰¾åˆ°æœ‰æ•°æ®çš„ POI
```

### 2. æ™ºèƒ½æŸ¥æ‰¾æœ‰æ•°æ®çš„ POI
```typescript
// è‡ªåŠ¨éå†æ‰€æœ‰è¿”å›çš„ POIï¼Œæ‰¾å‡ºç¬¬ä¸€ä¸ªæœ‰æ‰©å±•ä¿¡æ¯çš„
for (const poi of result.list) {
  if (Object.keys(poi.business || {}).length > 0 ||
      Object.keys(poi.poiExtension || {}).length > 0 ||
      poi.tel || poi.tag) {
    poiWithData = poi;
    break;
  }
}
```

### 3. è¯¦ç»†å±•ç¤ºå­—æ®µç»Ÿè®¡
```
ğŸ“ å•†åœˆä¿¡æ¯ (business):
  [åŒ…å« 1 ä¸ªå­—æ®µ: businessArea]

â­ æ‰©å±•ä¿¡æ¯ (poiExtension):
  [åŒ…å« 3 ä¸ªå­—æ®µ: openTime, rating, cost]

ğŸ·ï¸  é¡¶çº§æ‰©å±•å­—æ®µ:
  tel: 021-12345678
  tag: WiFi å…è´¹åœè½¦
```

### 4. æ·»åŠ  Android è°ƒè¯•æ—¥å¿—

åœ¨ Android Logcat ä¸­å¯ä»¥çœ‹åˆ°è¯¦ç»†ä¿¡æ¯ï¼š
```
D/AMapSearch: POI: æ˜Ÿå·´å…‹ - Businesså¯¹è±¡ä¸ä¸ºnull
D/AMapSearch:   businessArea: null
D/AMapSearch:   openTimeWeek: null
D/AMapSearch:   openTimeToday: null
D/AMapSearch:   rating: null
D/AMapSearch:   cost: null
D/AMapSearch:   tel: null
D/AMapSearch:   tag: null
D/AMapSearch:   parkingType: null
D/AMapSearch:   alias: null
```

æˆ–è€…ï¼š
```
D/AMapSearch: POI: æ˜Ÿå·´å…‹ - Businesså¯¹è±¡ä¸ºnull
```

---

## ğŸ¯ å¦‚ä½•æŸ¥çœ‹è°ƒè¯•æ—¥å¿—

### Android Studio
1. æ‰“å¼€ Android Studio
2. è¿è¡Œç¤ºä¾‹åº”ç”¨
3. æ‰“å¼€ Logcat çª—å£
4. è¿‡æ»¤æ ‡ç­¾ï¼š`AMapSearch`
5. ç‚¹å‡»æµ‹è¯•æŒ‰é’®ï¼ŒæŸ¥çœ‹æ—¥å¿—

### å‘½ä»¤è¡Œ (adb)
```bash
adb logcat | grep AMapSearch
```

---

## âœ¨ é¢„æœŸçš„å®Œæ•´æ•°æ®ç¤ºä¾‹

å½“æœç´¢åˆ°æœ‰å®Œæ•´æ•°æ®çš„ POI æ—¶ï¼Œåº”è¯¥çœ‹åˆ°ï¼š

```
ã€æ‰¾åˆ° 10 ä¸ªPOIï¼Œå±•ç¤ºç¬¬ä¸€ä¸ªæœ‰æ‰©å±•ä¿¡æ¯çš„ã€‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
åŸºç¡€ä¿¡æ¯:
  uid: B0XXXXXX
  name: ä¸Šæµ·ç¯çƒæ¸¯
  type: è´­ç‰©æœåŠ¡;è´­ç‰©ä¸­å¿ƒ;è´­ç‰©ä¸­å¿ƒ
  address: ä¸­å±±åŒ—è·¯3300å·

ğŸ“ å•†åœˆä¿¡æ¯ (business):
{
  "businessArea": "çœŸå…‰è·¯"
}
  [åŒ…å« 1 ä¸ªå­—æ®µ: businessArea]

â­ æ‰©å±•ä¿¡æ¯ (poiExtension):
{
  "openTime": "å‘¨ä¸€è‡³å‘¨æ—¥ 10:00-22:00",
  "openTimeToday": "ä»Šå¤© 10:00-22:00",
  "rating": "4.6",
  "cost": "",
  "photos": [
    {
      "title": "å¤–è§‚",
      "url": "https://..."
    }
  ]
}
  [åŒ…å« 4 ä¸ªå­—æ®µ: openTime, openTimeToday, rating, photos]

ğŸ·ï¸  é¡¶çº§æ‰©å±•å­—æ®µ:
  tel: 400-820-5288
  parkingType: æ”¶è´¹åœè½¦
```

---

## ğŸ“ ä»£ç æ”¹åŠ¨è¯´æ˜

### 1. æµ‹è¯•ä»£ç ä¼˜åŒ– (example/src/App.tsx)
- âœ… æ”¹ä¸ºæœç´¢ "ä¸Šæµ·ç¯çƒæ¸¯"ï¼ˆæ›´å®¹æ˜“æœ‰æ‰©å±•æ•°æ®ï¼‰
- âœ… å¢åŠ  pageSize åˆ° 10ï¼ˆæ›´å¤šé€‰æ‹©ï¼‰
- âœ… è‡ªåŠ¨æŸ¥æ‰¾æœ‰æ‰©å±•ä¿¡æ¯çš„ POI
- âœ… æ˜¾ç¤ºå­—æ®µç»Ÿè®¡ä¿¡æ¯
- âœ… åˆ†ç±»å±•ç¤ºæ‰©å±•å­—æ®µ

### 2. Android è°ƒè¯•æ—¥å¿— (AmapSearchModule.java)
- âœ… è®°å½• Business å¯¹è±¡æ˜¯å¦ä¸º null
- âœ… è®°å½•æ¯ä¸ªå­—æ®µçš„å®é™…å€¼
- âœ… è®°å½•å¼‚å¸¸ä¿¡æ¯

---

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œ

1. **é‡æ–°è¿è¡Œç¤ºä¾‹åº”ç”¨**
   ```bash
   cd example
   yarn android  # æˆ– yarn ios
   ```

2. **ç‚¹å‡» "POIå®Œæ•´æ•°æ®ç»“æ„" æŒ‰é’®**

3. **æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º**
   - React Native æ§åˆ¶å°ï¼šæŸ¥çœ‹å®Œæ•´ JSON
   - Android Logcatï¼šæŸ¥çœ‹è°ƒè¯•æ—¥å¿—

4. **å°è¯•ä¸åŒå…³é”®è¯**
   - ä¿®æ”¹ `keyword` å­—æ®µ
   - å°è¯•æœç´¢å¤§å‹å•†åœºã€æ™¯ç‚¹ç­‰

---

## ğŸ’¡ å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆæ‰€æœ‰ POI éƒ½æ²¡æœ‰æ‰©å±•ä¿¡æ¯ï¼Ÿ
A: é«˜å¾·åœ°å›¾çš„æ‰©å±•ä¿¡æ¯è¦†ç›–ç‡æœ‰é™ï¼Œå°¤å…¶æ˜¯å°å‹ POIã€‚å»ºè®®æœç´¢çŸ¥ååœ°ç‚¹ã€‚

### Q: iOS å’Œ Android è¿”å›çš„æ•°æ®ä¸€æ ·å—ï¼Ÿ
A: åŸºæœ¬ä¸€æ ·ï¼Œä½†æœ‰å¹³å°å·®å¼‚ï¼š
- Android: æ”¯æŒ `openTimeToday`ã€`tag`ã€`alias`
- iOS: æ”¯æŒ `business.location`ã€`shopID`ã€`email`

### Q: å¦‚ä½•è·å–æ›´å¤šæ‰©å±•ä¿¡æ¯ï¼Ÿ
A: ç¡®ä¿ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„é«˜å¾·åœ°å›¾ SDKï¼Œå¹¶æœç´¢çƒ­é—¨ã€çŸ¥åçš„ POIã€‚

### Q: Business å¯¹è±¡ä¸ºä»€ä¹ˆæ˜¯ nullï¼Ÿ
A: è¿™å–å†³äºé«˜å¾·åœ°å›¾çš„æ•°æ®è´¨é‡ï¼Œéƒ¨åˆ† POI ç¡®å®æ²¡æœ‰ Business å¯¹è±¡ã€‚

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- API éªŒè¯æŠ¥å‘Š: `API_VERIFICATION_REPORT_FINAL.md`
- å®˜æ–¹æ–‡æ¡£: https://a.amap.com/lbs/static/unzip/Android_Map_Doc/
- é¡¹ç›®è¯´æ˜: `CLAUDE.md`
